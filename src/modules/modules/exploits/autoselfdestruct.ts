import { moduleDefinition } from '../../moduleapi'

function Destroy() {
    document.getElementById('cac__CONTAINER')?.remove()
}

function selfDestruct() {
    window.addEventListener('blur', (e) => Destroy())
}

const plugin: moduleDefinition = {
    display_name: 'Auto Self Destruct',
    description: 'Automatically destroys the client when the window/tab changes',
    id: 'selfdestructalttab',
    section: 'exploit',
    onactive: selfDestruct,
    always: true,
    custom_render: false,
}

export default plugin
