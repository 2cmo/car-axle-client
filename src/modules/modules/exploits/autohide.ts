import { moduleDefinition } from '../../moduleapi'

const hideEvent = new KeyboardEvent('keydown', {
    key: '\\',
})

function hide() {
    document.dispatchEvent(hideEvent)
}

function waittohide() {
    window.addEventListener('blur', (e) => hide())
}

const plugin: moduleDefinition = {
    display_name: 'Auto Hide',
    description: 'Automatically hides UI when the tab/window changes',
    id: 'autohide',
    section: 'exploit',
    onactive: waittohide,
    always: true,
    custom_render: false,
}

export default plugin
