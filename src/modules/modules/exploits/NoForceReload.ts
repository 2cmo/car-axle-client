import { moduleDefinition } from '../../moduleapi'

function preventReload() {
    window.onbeforeunload = (e) => {
        return 'no'
    }
}

function enableReload() {
    window.onbeforeunload = null
}

const plugin: moduleDefinition = {
    display_name: 'NoForceReload',
    description: "Prevents the tab from being autoreloaded by showing a popup",
    id: 'noforcereload',
    section: 'exploit',
    onactive: preventReload,
    ondisable: enableReload,
    custom_render: false,
}

export default plugin
