import { moduleDefinition } from '../../moduleapi'

function disguise() {
    let title = document.querySelector('title') || document.createElement('title')
    title.innerHTML = 'Google'
    let favicon = document.querySelector('link[rel="icon"]') || document.createElement('link')
    favicon.setAttribute('rel', 'icon')
    favicon.setAttribute('href', 'https://t2.gstatic.com/faviconV2?client=SOCIAL&type=FAVICON&fallback_opts=TYPE,SIZE,URL&url=http://google.com&size=16')

    document.head.appendChild(title)
    document.head.appendChild(favicon)
}

const plugin: moduleDefinition = {
    custom_render: false,
    onactive: disguise,
    display_name: 'Disguise Tab (google)',
    description: 'idc if this is the most common bookmarklet, as long as it works',
    section: 'exploit',
    id: 'disguise',
    always: true,
}

export default plugin
